<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸŽ¯ LeetCode Anki Card Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 4rem 0;
            margin-bottom: 2rem;
        }
        .problem-card {
            transition: transform 0.2s, box-shadow 0.2s;
            border: none;
            border-radius: 15px;
        }
        .problem-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        .tag-btn {
            transition: all 0.3s ease;
            border-radius: 20px;
            font-weight: 500;
        }
        .tag-btn:hover {
            transform: scale(1.05);
            text-decoration: none;
        }
        .btn-outline-info:hover {
            background-color: #0dcaf0;
            border-color: #0dcaf0;
            color: #000;
        }
        .btn-outline-secondary:hover {
            background-color: #6c757d;
            border-color: #6c757d;
        }
        .btn-outline-dark:hover {
            background-color: #212529;
            border-color: #212529;
        }
        .tag-count-badge {
            font-size: 0.75em;
            padding: 0.25em 0.5em;
        }
        /* Rainbow color scheme for tags */
        .btn-outline-danger { color: #dc3545; border-color: #dc3545; }
        .btn-outline-warning { color: #ffc107; border-color: #ffc107; }
        .btn-outline-success { color: #198754; border-color: #198754; }
        .btn-outline-info { color: #0dcaf0; border-color: #0dcaf0; }
        .btn-outline-primary { color: #0d6efd; border-color: #0d6efd; }
        .btn-outline-secondary { color: #6c757d; border-color: #6c757d; }
        .btn-outline-dark { color: #212529; border-color: #212529; }
        .difficulty-badge {
            font-size: 0.8em;
            padding: 0.4em 0.8em;
            border-radius: 12px;
        }
        .hero-title {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }
        .hero-subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
        }
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #667eea;
        }
        .test-case {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 0 8px 8px 0;
        }
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-brain me-2"></i>LeetCode Anki Generator
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#problems">Problems</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#tags">Tags</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="tags.html">All Tags</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="problems.html">Browse Problems</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="cards.html">Study Cards</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://github.com/robinali34/leetcode-anki-web" target="_blank">
                            <i class="fab fa-github me-1"></i>GitHub
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container text-center">
            <h1 class="hero-title">ðŸŽ¯ LeetCode Anki Card Generator</h1>
            <p class="hero-subtitle">Transform your LeetCode practice into effective, long-term learning with systematic Anki card generation</p>
            <div class="row mt-4">
                <div class="col-md-3">
                    <div class="text-center">
                        <i class="fas fa-code feature-icon"></i>
                        <h5>200+ Problems</h5>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="text-center">
                        <i class="fas fa-palette feature-icon"></i>
                        <h5>Rainbow Tags</h5>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="text-center">
                        <i class="fas fa-lightbulb feature-icon"></i>
                        <h5>Smart Solutions</h5>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="text-center">
                        <i class="fas fa-graduation-cap feature-icon"></i>
                        <h5>Study Cards</h5>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="container">
        <!-- Quick Actions -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body text-center">
                        <h5 class="card-title mb-3">ðŸš€ Quick Actions</h5>
                        <div class="row">
                            <div class="col-md-3 mb-2">
                                <a href="tags.html" class="btn btn-outline-primary btn-lg w-100">
                                    <i class="fas fa-tags me-2"></i>Browse All Tags
                                </a>
                            </div>
                            <div class="col-md-3 mb-2">
                                <a href="problems.html" class="btn btn-outline-success btn-lg w-100">
                                    <i class="fas fa-list me-2"></i>View Problems
                                </a>
                            </div>
                            <div class="col-md-3 mb-2">
                                <a href="cards.html" class="btn btn-outline-warning btn-lg w-100">
                                    <i class="fas fa-graduation-cap me-2"></i>Study Cards
                                </a>
                            </div>
                            <div class="col-md-3 mb-2">
                                <a href="https://github.com/robinali34/leetcode-anki-web" class="btn btn-outline-dark btn-lg w-100" target="_blank">
                                    <i class="fab fa-github me-2"></i>GitHub
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filter by Tags Section -->
        <div class="row mb-4" id="tags">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h6 class="mb-0"><i class="fas fa-tags me-2"></i>Filter by Tags</h6>
                        <span class="badge bg-primary" id="total-tag-count">0 tags</span>
                    </div>
                    <div class="card-body">
                        <div class="d-flex flex-wrap gap-2" id="tag-buttons">
                            <!-- Tags will be populated by JavaScript -->
                        </div>
                        <div class="mt-3 text-center">
                            <a href="problems.html" class="btn btn-primary">
                                <i class="fas fa-external-link-alt me-2"></i>View All Problems
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card">
                    <div class="card-header">
                        <h6 class="mb-0"><i class="fas fa-info-circle me-2"></i>About Tag Colors</h6>
                    </div>
                    <div class="card-body">
                        <p class="small text-muted mb-2">
                            <span class="badge bg-danger me-1">Red</span> = >150 problems (most popular)
                        </p>
                        <p class="small text-muted mb-2">
                            <span class="badge bg-warning me-1">Yellow</span> = Popular topics
                        </p>
                        <p class="small text-muted mb-2">
                            <span class="badge bg-success me-1">Green</span> = Common topics
                        </p>
                        <p class="small text-muted mb-2">
                            <span class="badge bg-info me-1">Cyan</span> = Medium topics
                        </p>
                        <p class="small text-muted mb-2">
                            <span class="badge bg-primary me-1">Blue</span> = Growing topics
                        </p>
                        <p class="small text-muted mb-2">
                            <span class="badge bg-secondary me-1">Gray</span> = Specialized topics
                        </p>
                        <p class="small text-muted">
                            <span class="badge bg-dark me-1">Black</span> = Niche topics
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Problems Section -->
        <div class="row" id="problems">
            <div class="col-12">
                <h4 class="mb-3"><i class="fas fa-list me-2"></i>LeetCode Problems</h4>
                <div class="alert alert-info mb-3">
                    <i class="fas fa-info-circle me-2"></i>
                    <strong>Tip:</strong> Browse through our collection of top 200 LeetCode problems. Use the search and filters below to find specific problems, or click "View Full Details" to see comprehensive information.
                </div>
                
                <!-- Search and Filter Controls -->
                <div class="row mb-4">
                    <div class="col-md-4 mb-3">
                        <input type="text" class="form-control" id="problemSearch" placeholder="Search problems by title or ID...">
                    </div>
                    <div class="col-md-3 mb-3">
                        <select class="form-select" id="difficultyFilter">
                            <option value="">All Difficulties</option>
                            <option value="Easy">Easy</option>
                            <option value="Medium">Medium</option>
                            <option value="Hard">Hard</option>
                        </select>
                    </div>
                    <div class="col-md-3 mb-3">
                        <select class="form-select" id="tagFilter">
                            <option value="">All Tags</option>
                        </select>
                    </div>
                    <div class="col-md-2 mb-3">
                        <button class="btn btn-outline-secondary w-100" onclick="resetFilters()">
                            <i class="fas fa-undo me-1"></i>Reset
                        </button>
                    </div>
                </div>
                
                <div class="row" id="problems-container">
                    <!-- Problems will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4 mt-5">
        <div class="container text-center">
            <p class="mb-0">
                <i class="fas fa-heart text-danger me-1"></i>
                Made with love for the LeetCode community
            </p>
            <p class="small text-muted mt-2">
                <a href="https://github.com/robinali34/leetcode-anki-web" class="text-light text-decoration-none" target="_blank">
                    <i class="fab fa-github me-1"></i>View on GitHub
                </a>
                <span class="mx-2">â€¢</span>
                <a href="LICENSE" class="text-light text-decoration-none">MIT License</a>
            </p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="problems-data.js"></script>
    <script>
        // Use imported problems data
        const sampleProblems = topLeetCodeProblems || [
            {
                id: 1,
                title: "Two Sum",
                difficulty: "Easy",
                description: "Given an array of integers nums and an integer target, return indices of the two numbers such that they add up to target.",
                tags: ["Array", "Hash Table"],
                acceptance: "52.3%",
                fullDescription: "Given an array of integers nums and an integer target, return indices of the two numbers such that they add up to target. You may assume that each input would have exactly one solution, and you may not use the same element twice. You can return the answer in any order.",
                testCases: [
                    { input: "nums = [2,7,11,15], target = 9", output: "[0,1]", explanation: "Because nums[0] + nums[1] == 9, we return [0, 1]." },
                    { input: "nums = [3,2,4], target = 6", output: "[1,2]", explanation: "Because nums[1] + nums[2] == 6, we return [1, 2]." },
                    { input: "nums = [3,3], target = 6", output: "[0,1]", explanation: "Because nums[0] + nums[1] == 6, we return [0, 1]." }
                ],
                pseudocode: `function twoSum(nums, target):
    hashMap = {}
    for i = 0 to nums.length - 1:
        complement = target - nums[i]
        if complement in hashMap:
            return [hashMap[complement], i]
        hashMap[nums[i]] = i
    return []`,
                pythonCode: `def twoSum(nums, target):
    hash_map = {}
    for i, num in enumerate(nums):
        complement = target - num
        if complement in hash_map:
            return [hash_map[complement], i]
        hash_map[num] = i
    return []`,
                timeComplexity: "O(n) - We traverse the array once",
                spaceComplexity: "O(n) - We store at most n elements in the hash map",
                keyInsights: [
                    "Use a hash table to store previously seen numbers",
                    "For each number, check if its complement exists in the hash table",
                    "This approach trades space for time complexity"
                ]
            },
            {
                id: 2,
                title: "Add Two Numbers",
                difficulty: "Medium",
                description: "You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order.",
                tags: ["Linked List", "Math", "Recursion"],
                acceptance: "38.9%",
                fullDescription: "You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order, and each of their nodes contains a single digit. Add the two numbers and return the sum as a linked list. You may assume the two numbers do not contain any leading zero, except the number 0 itself.",
                testCases: [
                    { input: "l1 = [2,4,3], l2 = [5,6,4]", output: "[7,0,8]", explanation: "342 + 465 = 807" },
                    { input: "l1 = [0], l2 = [0]", output: "[0]", explanation: "0 + 0 = 0" },
                    { input: "l1 = [9,9,9,9,9,9,9], l2 = [9,9,9,9]", output: "[8,9,9,9,0,0,0,1]", explanation: "9999999 + 9999 = 10009998" }
                ],
                pseudocode: `function addTwoNumbers(l1, l2):
    dummy = new ListNode(0)
    current = dummy
    carry = 0
    
    while l1 != null OR l2 != null OR carry > 0:
        x = l1.val if l1 != null else 0
        y = l2.val if l2 != null else 0
        sum = x + y + carry
        
        carry = sum / 10
        current.next = new ListNode(sum % 10)
        current = current.next
        
        if l1 != null: l1 = l1.next
        if l2 != null: l2 = l2.next
    
    return dummy.next`,
                pythonCode: `def addTwoNumbers(l1, l2):
    dummy = ListNode(0)
    current = dummy
    carry = 0
    
    while l1 or l2 or carry:
        x = l1.val if l1 else 0
        y = l2.val if l2 else 0
        total = x + y + carry
        
        carry = total // 10
        current.next = ListNode(total % 10)
        current = current.next
        
        if l1: l1 = l1.next
        if l2: l2 = l2.next
    
    return dummy.next`,
                timeComplexity: "O(max(m,n)) - We traverse both lists once",
                spaceComplexity: "O(max(m,n)) - We create a new list for the result",
                keyInsights: [
                    "Process digits from least significant to most significant",
                    "Handle carry-over between digits",
                    "Create new nodes for the result",
                    "Handle cases where lists have different lengths"
                ]
            },
            {
                id: 3,
                title: "Longest Substring Without Repeating Characters",
                difficulty: "Medium",
                description: "Given a string s, find the length of the longest substring without repeating characters.",
                tags: ["Hash Table", "String", "Sliding Window"],
                acceptance: "33.8%",
                fullDescription: "Given a string s, find the length of the longest substring without repeating characters. A substring is a contiguous non-empty sequence of characters within a string.",
                testCases: [
                    { input: 's = "abcabcbb"', output: "3", explanation: "The answer is 'abc', with the length of 3." },
                    { input: 's = "bbbbb"', output: "1", explanation: "The answer is 'b', with the length of 1." },
                    { input: 's = "pwwkew"', output: "3", explanation: "The answer is 'wke', with the length of 3." }
                ],
                pseudocode: `function lengthOfLongestSubstring(s):
    charSet = set()
    left = 0
    maxLength = 0
    
    for right = 0 to s.length - 1:
        while s[right] in charSet:
            charSet.remove(s[left])
            left += 1
        charSet.add(s[right])
        maxLength = max(maxLength, right - left + 1)
    
    return maxLength`,
                pythonCode: `def lengthOfLongestSubstring(s):
    char_set = set()
    left = 0
    max_length = 0
    
    for right in range(len(s)):
        while s[right] in char_set:
            char_set.remove(s[left])
            left += 1
        char_set.add(s[right])
        max_length = max(max_length, right - left + 1)
    
    return max_length`,
                timeComplexity: "O(n) - Each character is visited at most twice",
                spaceComplexity: "O(min(m,n)) - Where m is the size of the charset",
                keyInsights: [
                    "Use sliding window technique with two pointers",
                    "Maintain a set of characters in current window",
                    "Expand right pointer and contract left pointer when duplicates found",
                    "Track maximum length seen so far"
                ]
            },
            {
                id: 4,
                title: "Median of Two Sorted Arrays",
                difficulty: "Hard",
                description: "Given two sorted arrays nums1 and nums2 of size m and n respectively, return the median of the two sorted arrays.",
                tags: ["Array", "Binary Search", "Divide and Conquer"],
                acceptance: "35.2%",
                fullDescription: "Given two sorted arrays nums1 and nums2 of size m and n respectively, return the median of the two sorted arrays. The overall run time complexity should be O(log(m+n)).",
                testCases: [
                    { input: "nums1 = [1,3], nums2 = [2]", output: "2.00000", explanation: "merged array = [1,2,3] and median is 2." },
                    { input: "nums1 = [1,2], nums2 = [3,4]", output: "2.50000", explanation: "merged array = [1,2,3,4] and median is (2 + 3) / 2 = 2.5." }
                ],
                pseudocode: `function findMedianSortedArrays(nums1, nums2):
    if nums1.length > nums2.length:
        swap(nums1, nums2)
    
    x = nums1.length
    y = nums2.length
    low = 0
    high = x
    
    while low <= high:
        partitionX = (low + high) / 2
        partitionY = (x + y + 1) / 2 - partitionX
        
        maxLeftX = partitionX == 0 ? -âˆž : nums1[partitionX - 1]
        minRightX = partitionX == x ? âˆž : nums1[partitionX]
        maxLeftY = partitionY == 0 ? -âˆž : nums2[partitionY - 1]
        minRightY = partitionY == y ? âˆž : nums2[partitionY]
        
        if maxLeftX <= minRightY AND maxLeftY <= minRightX:
            if (x + y) % 2 == 0:
                return (max(maxLeftX, maxLeftY) + min(minRightX, minRightY)) / 2
            else:
                return max(maxLeftX, maxLeftY)
        else if maxLeftX > minRightY:
            high = partitionX - 1
        else:
            low = partitionX + 1`,
                pythonCode: `def findMedianSortedArrays(nums1, nums2):
    if len(nums1) > len(nums2):
        nums1, nums2 = nums2, nums1
    
    x, y = len(nums1), len(nums2)
    low, high = 0, x
    
    while low <= high:
        partition_x = (low + high) // 2
        partition_y = (x + y + 1) // 2 - partition_x
        
        max_left_x = float('-inf') if partition_x == 0 else nums1[partition_x - 1]
        min_right_x = float('inf') if partition_x == x else nums1[partition_x]
        max_left_y = float('-inf') if partition_y == 0 else nums2[partition_y - 1]
        min_right_y = float('inf') if partition_y == y else nums2[partition_y]
        
        if max_left_x <= min_right_y and max_left_y <= min_right_x:
            if (x + y) % 2 == 0:
                return (max(max_left_x, max_left_y) + min(min_right_x, min_right_y)) / 2
            else:
                return max(max_left_x, max_left_y)
        elif max_left_x > min_right_y:
            high = partition_x - 1
        else:
            low = partition_x + 1`,
                timeComplexity: "O(log(min(m,n))) - Binary search on smaller array",
                spaceComplexity: "O(1) - Constant extra space",
                keyInsights: [
                    "Use binary search to find correct partition",
                    "Ensure left partition has correct number of elements",
                    "Check if partition is valid by comparing boundary elements",
                    "Handle edge cases for even/odd total length"
                ]
            }
        ];

        // Dynamic tag data calculated from problems
        function calculateTagData() {
            const tagCounts = {};
            
            sampleProblems.forEach(problem => {
                if (problem.tags && Array.isArray(problem.tags)) {
                    problem.tags.forEach(tag => {
                        tagCounts[tag] = (tagCounts[tag] || 0) + 1;
                    });
                }
            });
            
            return tagCounts;
        }
        
        const tagData = calculateTagData();

        // Function to get button class based on count
        function getButtonClass(count) {
            if (count > 150) {
                return "btn-outline-danger btn-lg";
            } else {
                const rainbowIndex = (count - 1) % 7;
                const colors = [
                    "btn-outline-danger",
                    "btn-outline-warning", 
                    "btn-outline-success",
                    "btn-outline-info",
                    "btn-outline-primary",
                    "btn-outline-secondary",
                    "btn-outline-dark"
                ];
                const sizes = count <= 25 ? "btn-sm" : count <= 75 ? "btn-md" : "btn-lg";
                return `${colors[rainbowIndex]} ${sizes}`;
            }
        }

        // Function to get badge class based on count
        function getBadgeClass(count) {
            if (count > 150) {
                return "bg-danger";
            } else {
                const rainbowIndex = (count - 1) % 7;
                const colors = [
                    "bg-danger",
                    "bg-warning",
                    "bg-success", 
                    "bg-info",
                    "bg-primary",
                    "bg-secondary",
                    "bg-dark"
                ];
                return colors[rainbowIndex];
            }
        }

        // Function to get difficulty badge class
        function getDifficultyClass(difficulty) {
            switch(difficulty.toLowerCase()) {
                case 'easy': return 'bg-success';
                case 'medium': return 'bg-warning';
                case 'hard': return 'bg-danger';
                default: return 'bg-secondary';
            }
        }

        // Render tag buttons with links to problems page
        function renderTagButtons() {
            const container = document.getElementById('tag-buttons');
            const sortedTags = Object.entries(tagData).sort((a, b) => b[1] - a[1]);
            
            // Update total tag count
            const totalTagCount = document.getElementById('total-tag-count');
            totalTagCount.textContent = `${sortedTags.length} tags`;
            
            sortedTags.forEach(([tag, count]) => {
                const buttonClass = getButtonClass(count);
                const button = document.createElement('a');
                button.href = `problems.html?tag=${encodeURIComponent(tag)}`;
                button.className = `btn ${buttonClass} tag-btn`;
                button.innerHTML = `
                    <i class="fas fa-tag me-1"></i>${tag}
                    <span class="badge bg-secondary ms-1 tag-count-badge">${count}</span>
                `;
                container.appendChild(button);
            });
        }

        // Pagination variables
        let currentPage = 1;
        const problemsPerPage = 12;

        // Render problems with pagination
        function renderProblems() {
            const container = document.getElementById('problems-container');
            container.innerHTML = '';
            
            const startIndex = (currentPage - 1) * problemsPerPage;
            const endIndex = startIndex + problemsPerPage;
            const pageProblems = filteredProblems.slice(startIndex, endIndex);
            
            if (pageProblems.length === 0) {
                container.innerHTML = `
                    <div class="col-12 text-center py-5">
                        <i class="fas fa-search fa-3x text-muted mb-3"></i>
                        <h5 class="text-muted">No problems found</h5>
                        <p class="text-muted">Try adjusting your search or filter criteria.</p>
                    </div>
                `;
                return;
            }
            
            pageProblems.forEach(problem => {
                const problemCard = document.createElement('div');
                problemCard.className = 'col-md-6 col-lg-4 mb-4';
                problemCard.innerHTML = `
                    <div class="card problem-card h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <h6 class="card-title mb-0">${problem.id}. ${problem.title}</h6>
                                <span class="badge ${getDifficultyClass(problem.difficulty)} difficulty-badge">
                                    ${problem.difficulty}
                                </span>
                            </div>
                            <p class="card-text small text-muted mb-3">${problem.description}</p>
                            <div class="mb-2">
                                ${problem.tags.map(tag => {
                                    const count = tagData[tag] || 0;
                                    const badgeClass = getBadgeClass(count);
                                    return `<span class="badge ${badgeClass} me-1">${tag}</span>`;
                                }).join('')}
                            </div>
                            <div class="d-flex justify-content-between align-items-center">
                                <small class="text-muted">Acceptance: ${problem.acceptance}</small>
                                <button class="btn btn-primary btn-sm" onclick="showProblemDetails(${problem.id})">
                                    <i class="fas fa-external-link-alt me-1"></i>View Full Details
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(problemCard);
            });
            
            renderPagination();
        }

        // Render pagination
        function renderPagination() {
            const totalPages = Math.ceil(filteredProblems.length / problemsPerPage);
            if (totalPages <= 1) return;
            
            const paginationContainer = document.createElement('div');
            paginationContainer.className = 'col-12 mt-4';
            paginationContainer.innerHTML = `
                <nav aria-label="Problems pagination">
                    <ul class="pagination justify-content-center">
                        <li class="page-item ${currentPage === 1 ? 'disabled' : ''}">
                            <a class="page-link" href="#" onclick="changePage(${currentPage - 1})">Previous</a>
                        </li>
                        ${Array.from({length: totalPages}, (_, i) => i + 1).map(page => `
                            <li class="page-item ${page === currentPage ? 'active' : ''}">
                                <a class="page-link" href="#" onclick="changePage(${page})">${page}</a>
                            </li>
                        `).join('')}
                        <li class="page-item ${currentPage === totalPages ? 'disabled' : ''}">
                            <a class="page-link" href="#" onclick="changePage(${currentPage + 1})">Next</a>
                        </li>
                    </ul>
                </nav>
            `;
            
            document.getElementById('problems-container').parentNode.appendChild(paginationContainer);
        }

        // Change page function
        function changePage(page) {
            const totalPages = Math.ceil(sampleProblems.length / problemsPerPage);
            if (page < 1 || page > totalPages) return;
            
            currentPage = page;
            renderProblems();
            window.scrollTo({top: document.getElementById('problems').offsetTop, behavior: 'smooth'});
        }

        // Filtered problems
        let filteredProblems = [...sampleProblems];

        // Search and filter functions
        function filterProblems() {
            const searchTerm = document.getElementById('problemSearch').value.toLowerCase();
            const difficulty = document.getElementById('difficultyFilter').value;
            const tag = document.getElementById('tagFilter').value;
            
            filteredProblems = sampleProblems.filter(problem => {
                const matchesSearch = problem.title.toLowerCase().includes(searchTerm) || 
                                    problem.id.toString().includes(searchTerm);
                const matchesDifficulty = !difficulty || problem.difficulty === difficulty;
                const matchesTag = !tag || problem.tags.includes(tag);
                
                return matchesSearch && matchesDifficulty && matchesTag;
            });
            
            currentPage = 1;
            renderProblems();
        }

        // Reset filters
        function resetFilters() {
            document.getElementById('problemSearch').value = '';
            document.getElementById('difficultyFilter').value = '';
            document.getElementById('tagFilter').value = '';
            
            filteredProblems = [...sampleProblems];
            currentPage = 1;
            renderProblems();
        }

        // Populate tag filter
        function populateTagFilter() {
            const tagFilter = document.getElementById('tagFilter');
            const allTags = [...new Set(sampleProblems.flatMap(p => p.tags))].sort();
            
            allTags.forEach(tag => {
                const option = document.createElement('option');
                option.value = tag;
                option.textContent = tag;
                tagFilter.appendChild(option);
            });
        }

        // Show problem details modal directly on home page with comprehensive content
        function showProblemDetails(problemId) {
            const problem = sampleProblems.find(p => p.id === problemId);
            if (!problem) return;

            // Create and show the modal
            const modal = document.createElement('div');
            modal.className = 'modal fade';
            modal.id = 'problemModal';
            modal.setAttribute('tabindex', '-1');
            modal.innerHTML = `
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">
                                <span class="badge ${getDifficultyClass(problem.difficulty)} me-2">${problem.difficulty}</span>
                                #${problem.id}. ${problem.title}
                            </h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-8">
                                    <h6 class="fw-bold">Problem Description</h6>
                                    <p class="mb-4">${problem.fullDescription || problem.description}</p>
                                    
                                    <h6 class="fw-bold">Test Cases</h6>
                                    ${problem.testCases ? problem.testCases.map(testCase => `
                                        <div class="test-case mb-3 p-3 bg-light border-start border-primary border-4">
                                            <div><strong>Input:</strong> <code>${testCase.input}</code></div>
                                            <div><strong>Output:</strong> <code>${testCase.output}</code></div>
                                            <div><strong>Explanation:</strong> ${testCase.explanation}</div>
                                        </div>
                                    `).join('') : '<p class="text-muted">No test cases available</p>'}
                                    
                                    <h6 class="fw-bold">Key Insights</h6>
                                    ${problem.keyInsights ? problem.keyInsights.map(insight => `
                                        <div class="alert alert-info mb-2">
                                            <i class="fas fa-lightbulb me-2 text-warning"></i>${insight}
                                        </div>
                                    `).join('') : '<p class="text-muted">No key insights available</p>'}
                                </div>
                                
                                <div class="col-md-4">
                                    <h6 class="fw-bold">Tags</h6>
                                    <div class="mb-3">
                                        ${problem.tags.map(tag => {
                                            const count = tagData[tag] || 0;
                                            const badgeClass = getBadgeClass(count);
                                            return `<span class="badge ${badgeClass} me-1 mb-1">${tag}</span>`;
                                        }).join('')}
                                    </div>
                                    
                                    <h6 class="fw-bold">Complexity</h6>
                                    <div class="mb-3">
                                        <div><strong>Time:</strong> ${problem.timeComplexity || 'Not specified'}</div>
                                        <div><strong>Space:</strong> ${problem.spaceComplexity || 'Not specified'}</div>
                                    </div>
                                    
                                    <h6 class="fw-bold">Pseudocode</h6>
                                    <div class="bg-light p-3 rounded mb-3" style="font-family: 'Courier New', monospace; font-size: 0.9rem;">
                                        <pre class="mb-0">${problem.pseudocode || 'Not available'}</pre>
                                    </div>
                                    
                                    <h6 class="fw-bold">Python Solution</h6>
                                    <div class="bg-light p-3 rounded mb-3" style="font-family: 'Courier New', monospace; font-size: 0.9rem;">
                                        <pre class="mb-0">${problem.pythonCode || 'Not available'}</pre>
                                    </div>
                                    
                                    <h6 class="fw-bold">Quick Actions</h6>
                                    <div class="d-grid gap-2">
                                        <a href="problems.html" class="btn btn-primary btn-sm">
                                            <i class="fas fa-list me-1"></i>View All Problems
                                        </a>
                                        <a href="cards.html" class="btn btn-success btn-sm">
                                            <i class="fas fa-graduation-cap me-1"></i>Generate Anki Cards
                                        </a>
                                        <a href="tags.html" class="btn btn-info btn-sm">
                                            <i class="fas fa-tags me-1"></i>Browse by Tags
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-warning" onclick="generateAnkiCards(${problem.id})">
                                <i class="fas fa-magic me-1"></i>Generate Anki Cards
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            // Add modal to page
            document.body.appendChild(modal);
            
            // Show the modal
            const bootstrapModal = new bootstrap.Modal(modal);
            bootstrapModal.show();
            
            // Remove modal from DOM when hidden
            modal.addEventListener('hidden.bs.modal', function() {
                document.body.removeChild(modal);
            });
        }

        // Function to generate Anki cards for a specific problem
        function generateAnkiCards(problemId) {
            // Find the problem to get its title
            const problem = sampleProblems.find(p => p.id === problemId);
            if (problem) {
                // Redirect to cards page with problem filter
                const encodedTitle = encodeURIComponent(problem.title);
                window.location.href = `cards.html?problem=${encodedTitle}`;
            } else {
                // Fallback to general cards page
                window.location.href = 'cards.html';
            }
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            renderTagButtons();
            populateTagFilter();
            renderProblems();
            
            // Add event listeners for search and filtering
            document.getElementById('problemSearch').addEventListener('input', filterProblems);
            document.getElementById('difficultyFilter').addEventListener('change', filterProblems);
            document.getElementById('tagFilter').addEventListener('change', filterProblems);
        });
    </script>
</body>
</html> 