<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìù Problems - LeetCode Anki Card Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3rem 0;
            margin-bottom: 2rem;
        }
        .problem-card {
            transition: transform 0.2s, box-shadow 0.2s;
            border: none;
            border-radius: 15px;
            margin-bottom: 1rem;
            height: 100%;
        }
        .problem-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }
        .tag-btn {
            transition: all 0.3s ease;
            border-radius: 20px;
            font-weight: 500;
            margin: 0.25rem;
            font-size: 0.8rem;
        }
        .tag-btn:hover {
            transform: scale(1.05);
            text-decoration: none;
        }
        .difficulty-badge {
            font-size: 0.8em;
            padding: 0.4em 0.8em;
            border-radius: 12px;
        }
        .stats-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
        }
        .filter-section {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .problem-number {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            color: #6c757d;
        }
        .problem-title {
            color: #0d6efd;
            text-decoration: none;
        }
        .problem-title:hover {
            color: #0a58ca;
            text-decoration: underline;
        }
        .acceptance-rate {
            font-size: 0.9rem;
            color: #6c757d;
        }
        .pagination .page-link {
            border-radius: 8px;
            margin: 0 2px;
        }
        .pagination .page-item.active .page-link {
            background-color: #667eea;
            border-color: #667eea;
        }
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }
        .test-case {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 0 8px 8px 0;
        }
        .insight-item {
            background: #e3f2fd;
            border-radius: 8px;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-brain me-2"></i>LeetCode Anki Generator
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="tags.html">Tags</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="problems.html">Problems</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="cards.html">Cards</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://github.com/robinali34/leetcode-anki-web" target="_blank">
                            <i class="fab fa-github me-1"></i>GitHub
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container text-center">
            <h1 class="display-4 fw-bold">üìù LeetCode Problems</h1>
            <p class="lead">Browse and filter problems by difficulty, tags, and status</p>
        </div>
    </section>

    <div class="container">
        <!-- Statistics Cards -->
        <div class="row mb-4">
            <div class="col-md-3 mb-3">
                <div class="card stats-card text-center">
                    <div class="card-body">
                        <h3 class="card-title" id="total-problems">0</h3>
                        <p class="card-text">Total Problems</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-3">
                <div class="card stats-card text-center">
                    <div class="card-body">
                        <h3 class="card-title" id="easy-count">0</h3>
                        <p class="card-text">Easy</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-3">
                <div class="card stats-card text-center">
                    <div class="card-body">
                        <h3 class="card-title" id="medium-count">0</h3>
                        <p class="card-text">Medium</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-3">
                <div class="card stats-card text-center">
                    <div class="card-body">
                        <h3 class="card-title" id="hard-count">0</h3>
                        <p class="card-text">Hard</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filters Section -->
        <div class="filter-section">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label for="search-input" class="form-label">Search Problems</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-search"></i></span>
                        <input type="text" class="form-control" id="search-input" placeholder="Problem title or number...">
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="difficulty-filter" class="form-label">Difficulty</label>
                    <select class="form-select" id="difficulty-filter">
                        <option value="">All Difficulties</option>
                        <option value="Easy">Easy</option>
                        <option value="Medium">Medium</option>
                        <option value="Hard">Hard</option>
                    </select>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="tag-filter" class="form-label">Tag</label>
                    <select class="form-select" id="tag-filter">
                        <option value="">All Tags</option>
                    </select>
                </div>
                <div class="col-md-2 mb-3">
                    <label for="status-filter" class="form-label">Status</label>
                    <select class="form-select" id="status-filter">
                        <option value="">All Status</option>
                        <option value="Solved">Solved</option>
                        <option value="Attempted">Attempted</option>
                        <option value="Not Started">Not Started</option>
                    </select>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-12">
                    <button class="btn btn-primary me-2" id="apply-filters">
                        <i class="fas fa-filter me-1"></i>Apply Filters
                    </button>
                    <button class="btn btn-outline-secondary" id="reset-filters">
                        <i class="fas fa-undo me-1"></i>Reset
                    </button>
                    <button class="btn btn-outline-info float-end" id="generate-cards">
                        <i class="fas fa-magic me-1"></i>Generate Cards
                    </button>
                </div>
            </div>
        </div>

        <!-- Problems Grid -->
        <div class="row" id="problems-container">
            <!-- Problems will be populated by JavaScript -->
        </div>

        <!-- Pagination -->
        <nav aria-label="Problems pagination" class="mt-4">
            <ul class="pagination justify-content-center" id="pagination">
                <!-- Pagination will be populated by JavaScript -->
            </ul>
        </nav>
    </div>

    <!-- Problem Detail Modal -->
    <div class="modal fade" id="problemModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalTitle">Problem Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="modalBody">
                    <!-- Problem details will be populated here -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="generateCardsBtn">
                        <i class="fas fa-magic me-1"></i>Generate Anki Cards
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Sample problems data with comprehensive information
        const sampleProblems = [
            {
                id: 1,
                title: "Two Sum",
                difficulty: "Easy",
                tags: ["Array", "Hash Table"],
                acceptance: 49.5,
                status: "Solved",
                description: "Given an array of integers nums and an integer target, return indices of the two numbers such that they add up to target.",
                fullDescription: "Given an array of integers nums and an integer target, return indices of the two numbers such that they add up to target. You may assume that each input would have exactly one solution, and you may not use the same element twice. You can return the answer in any order.",
                testCases: [
                    { input: "nums = [2,7,11,15], target = 9", output: "[0,1]", explanation: "Because nums[0] + nums[1] == 9, we return [0, 1]." },
                    { input: "nums = [3,2,4], target = 6", output: "[1,2]", explanation: "Because nums[1] + nums[2] == 6, we return [1, 2]." },
                    { input: "nums = [3,3], target = 6", output: "[0,1]", explanation: "Because nums[0] + nums[1] == 6, we return [0, 1]." }
                ],
                pseudocode: `function twoSum(nums, target):
    hashMap = {}
    for i = 0 to nums.length - 1:
        complement = target - nums[i]
        if complement in hashMap:
            return [hashMap[complement], i]
        hashMap[nums[i]] = i
    return []`,
                pythonCode: `def twoSum(nums, target):
    hash_map = {}
    for i, num in enumerate(nums):
        complement = target - num
        if complement in hash_map:
            return [hash_map[complement], i]
        hash_map[num] = i
    return []`,
                timeComplexity: "O(n) - We traverse the array once",
                spaceComplexity: "O(n) - We store at most n elements in the hash map",
                keyInsights: [
                    "Use a hash table to store previously seen numbers",
                    "For each number, check if its complement exists in the hash table",
                    "This approach trades space for time complexity"
                ]
            },
            {
                id: 2,
                title: "Add Two Numbers",
                difficulty: "Medium",
                tags: ["Linked List", "Math", "Recursion"],
                acceptance: 38.9,
                status: "Attempted",
                description: "You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order, and each of their nodes contains a single digit.",
                fullDescription: "You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order, and each of their nodes contains a single digit. Add the two numbers and return the sum as a linked list. You may assume the two numbers do not contain any leading zero, except the number 0 itself.",
                testCases: [
                    { input: "l1 = [2,4,3], l2 = [5,6,4]", output: "[7,0,8]", explanation: "342 + 465 = 807" },
                    { input: "l1 = [0], l2 = [0]", output: "[0]", explanation: "0 + 0 = 0" },
                    { input: "l1 = [9,9,9,9,9,9,9], l2 = [9,9,9,9]", output: "[8,9,9,9,0,0,0,1]", explanation: "9999999 + 9999 = 10009998" }
                ],
                pseudocode: `function addTwoNumbers(l1, l2):
    dummy = new ListNode(0)
    current = dummy
    carry = 0
    
    while l1 != null OR l2 != null OR carry > 0:
        x = l1.val if l1 != null else 0
        y = l2.val if l2 != null else 0
        sum = x + y + carry
        
        carry = sum / 10
        current.next = new ListNode(sum % 10)
        current = current.next
        
        if l1 != null: l1 = l1.next
        if l2 != null: l2 = l2.next
    
    return dummy.next`,
                pythonCode: `def addTwoNumbers(l1, l2):
    dummy = ListNode(0)
    current = dummy
    carry = 0
    
    while l1 or l2 or carry:
        x = l1.val if l1 else 0
        y = l2.val if l2 else 0
        total = x + y + carry
        
        carry = total // 10
        current.next = ListNode(total % 10)
        current = current.next
        
        if l1: l1 = l1.next
        if l2: l2 = l2.next
    
    return dummy.next`,
                timeComplexity: "O(max(m,n)) - We traverse both lists once",
                spaceComplexity: "O(max(m,n)) - We create a new list for the result",
                keyInsights: [
                    "Process digits from least significant to most significant",
                    "Handle carry-over between digits",
                    "Create new nodes for the result",
                    "Handle cases where lists have different lengths"
                ]
            },
            {
                id: 3,
                title: "Longest Substring Without Repeating Characters",
                difficulty: "Medium",
                tags: ["Hash Table", "String", "Sliding Window"],
                acceptance: 33.8,
                status: "Not Started",
                description: "Given a string s, find the length of the longest substring without repeating characters.",
                fullDescription: "Given a string s, find the length of the longest substring without repeating characters. A substring is a contiguous non-empty sequence of characters within a string.",
                testCases: [
                    { input: 's = "abcabcbb"', output: "3", explanation: "The answer is 'abc', with the length of 3." },
                    { input: 's = "bbbbb"', output: "1", explanation: "The answer is 'b', with the length of 1." },
                    { input: 's = "pwwkew"', output: "3", explanation: "The answer is 'wke', with the length of 3." }
                ],
                pseudocode: `function lengthOfLongestSubstring(s):
    charSet = set()
    left = 0
    maxLength = 0
    
    for right = 0 to s.length - 1:
        while s[right] in charSet:
            charSet.remove(s[left])
            left += 1
        charSet.add(s[right])
        maxLength = max(maxLength, right - left + 1)
    
    return maxLength`,
                pythonCode: `def lengthOfLongestSubstring(s):
    char_set = set()
    left = 0
    max_length = 0
    
    for right in range(len(s)):
        while s[right] in char_set:
            char_set.remove(s[left])
            left += 1
        char_set.add(s[right])
        max_length = max(max_length, right - left + 1)
    
    return max_length`,
                timeComplexity: "O(n) - Each character is visited at most twice",
                spaceComplexity: "O(min(m,n)) - Where m is the size of the charset",
                keyInsights: [
                    "Use sliding window technique with two pointers",
                    "Maintain a set of characters in current window",
                    "Expand right pointer and contract left pointer when duplicates found",
                    "Track maximum length seen so far"
                ]
            },
            {
                id: 4,
                title: "Median of Two Sorted Arrays",
                difficulty: "Hard",
                tags: ["Array", "Binary Search", "Divide and Conquer"],
                acceptance: 35.2,
                status: "Not Started",
                description: "Given two sorted arrays nums1 and nums2 of size m and n respectively, return the median of the two sorted arrays.",
                fullDescription: "Given two sorted arrays nums1 and nums2 of size m and n respectively, return the median of the two sorted arrays. The overall run time complexity should be O(log(m+n)).",
                testCases: [
                    { input: "nums1 = [1,3], nums2 = [2]", output: "2.00000", explanation: "merged array = [1,2,3] and median is 2." },
                    { input: "nums1 = [1,2], nums2 = [3,4]", output: "2.50000", explanation: "merged array = [1,2,3,4] and median is (2 + 3) / 2 = 2.5." }
                ],
                pseudocode: `function findMedianSortedArrays(nums1, nums2):
    if nums1.length > nums2.length:
        swap(nums1, nums2)
    
    x = nums1.length
    y = nums2.length
    low = 0
    high = x
    
    while low <= high:
        partitionX = (low + high) / 2
        partitionY = (x + y + 1) / 2 - partitionX
        
        maxLeftX = partitionX == 0 ? -‚àû : nums1[partitionX - 1]
        minRightX = partitionX == x ? ‚àû : nums1[partitionX]
        maxLeftY = partitionY == 0 ? -‚àû : nums2[partitionY - 1]
        minRightY = partitionY == y ? ‚àû : nums2[partitionY]
        
        if maxLeftX <= minRightY AND maxLeftY <= minRightX:
            if (x + y) % 2 == 0:
                return (max(maxLeftX, maxLeftY) + min(minRightX, minRightY)) / 2
            else:
                return max(maxLeftX, maxLeftY)
        else if maxLeftX > minRightY:
            high = partitionX - 1
        else:
            low = partitionX + 1`,
                pythonCode: `def findMedianSortedArrays(nums1, nums2):
    if len(nums1) > len(nums2):
        nums1, nums2 = nums2, nums1
    
    x, y = len(nums1), len(nums2)
    low, high = 0, x
    
    while low <= high:
        partition_x = (low + high) // 2
        partition_y = (x + y + 1) // 2 - partition_x
        
        max_left_x = float('-inf') if partition_x == 0 else nums1[partition_x - 1]
        min_right_x = float('inf') if partition_x == x else nums1[partition_x]
        max_left_y = float('-inf') if partition_y == 0 else nums2[partition_y - 1]
        min_right_y = float('inf') if partition_y == y else nums2[partition_y]
        
        if max_left_x <= min_right_y and max_left_y <= min_right_x:
            if (x + y) % 2 == 0:
                return (max(max_left_x, max_left_y) + min(min_right_x, min_right_y)) / 2
            else:
                return max(max_left_x, max_left_y)
        elif max_left_x > min_right_y:
            high = partition_x - 1
        else:
            low = partition_x + 1`,
                timeComplexity: "O(log(min(m,n))) - Binary search on smaller array",
                spaceComplexity: "O(1) - Constant extra space",
                keyInsights: [
                    "Use binary search to find correct partition",
                    "Ensure left partition has correct number of elements",
                    "Check if partition is valid by comparing boundary elements",
                    "Handle edge cases for even/odd total length"
                ]
            }
        ];

        let currentProblems = [...sampleProblems];
        let currentPage = 1;
        const problemsPerPage = 12;

        // Get all unique tags
        const allTags = [...new Set(sampleProblems.flatMap(p => p.tags))].sort();

        function updateStats() {
            const total = currentProblems.length;
            const easy = currentProblems.filter(p => p.difficulty === 'Easy').length;
            const medium = currentProblems.filter(p => p.difficulty === 'Medium').length;
            const hard = currentProblems.filter(p => p.difficulty === 'Hard').length;

            document.getElementById('total-problems').textContent = total;
            document.getElementById('easy-count').textContent = easy;
            document.getElementById('medium-count').textContent = medium;
            document.getElementById('hard-count').textContent = hard;
        }

        function populateTagFilter() {
            const tagFilter = document.getElementById('tag-filter');
            allTags.forEach(tag => {
                const option = document.createElement('option');
                option.value = tag;
                option.textContent = tag;
                tagFilter.appendChild(option);
            });
        }

        function getDifficultyColor(difficulty) {
            switch(difficulty) {
                case 'Easy': return 'success';
                case 'Medium': return 'warning';
                case 'Hard': return 'danger';
                default: return 'secondary';
            }
        }

        function getStatusColor(status) {
            switch(status) {
                case 'Solved': return 'success';
                case 'Attempted': return 'warning';
                case 'Not Started': return 'secondary';
                default: return 'secondary';
            }
        }

        function renderProblems() {
            const container = document.getElementById('problems-container');
            container.innerHTML = '';

            const startIndex = (currentPage - 1) * problemsPerPage;
            const endIndex = startIndex + problemsPerPage;
            const pageProblems = currentProblems.slice(startIndex, endIndex);

            pageProblems.forEach(problem => {
                const problemCard = document.createElement('div');
                problemCard.className = 'col-md-6 col-lg-4';
                problemCard.innerHTML = `
                    <div class="card problem-card">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <span class="problem-number">#${problem.id}</span>
                                <span class="badge bg-${getDifficultyColor(problem.difficulty)} difficulty-badge">
                                    ${problem.difficulty}
                                </span>
                            </div>
                            <h6 class="card-title">
                                <a href="#" class="problem-title" onclick="showProblemDetails(${problem.id})">
                                    ${problem.title}
                                </a>
                            </h6>
                            <p class="card-text text-muted small mb-3">
                                ${problem.description.substring(0, 80)}...
                            </p>
                            <div class="mb-3">
                                ${problem.tags.map(tag => 
                                    `<span class="badge bg-outline-secondary me-1">${tag}</span>`
                                ).join('')}
                            </div>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="acceptance-rate">
                                    <i class="fas fa-chart-line me-1"></i>${problem.acceptance}%
                                </span>
                                <span class="badge bg-${getStatusColor(problem.status)}">
                                    ${problem.status}
                                </span>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(problemCard);
            });

            renderPagination();
        }

        function renderPagination() {
            const pagination = document.getElementById('pagination');
            pagination.innerHTML = '';

            const totalPages = Math.ceil(currentProblems.length / problemsPerPage);

            if (totalPages <= 1) return;

            // Previous button
            const prevLi = document.createElement('li');
            prevLi.className = `page-item ${currentPage === 1 ? 'disabled' : ''}`;
            prevLi.innerHTML = `<a class="page-link" href="#" onclick="changePage(${currentPage - 1})">Previous</a>`;
            pagination.appendChild(prevLi);

            // Page numbers
            for (let i = 1; i <= totalPages; i++) {
                const pageLi = document.createElement('li');
                pageLi.className = `page-item ${i === currentPage ? 'active' : ''}`;
                pageLi.innerHTML = `<a class="page-link" href="#" onclick="changePage(${i})">${i}</a>`;
                pagination.appendChild(pageLi);
            }

            // Next button
            const nextLi = document.createElement('li');
            nextLi.className = `page-item ${currentPage === totalPages ? 'disabled' : ''}`;
            nextLi.innerHTML = `<a class="page-link" href="#" onclick="changePage(${currentPage + 1})">Next</a>`;
            pagination.appendChild(nextLi);
        }

        function changePage(page) {
            if (page < 1 || page > Math.ceil(currentProblems.length / problemsPerPage)) return;
            currentPage = page;
            renderProblems();
        }

        function applyFilters() {
            const searchQuery = document.getElementById('search-input').value.toLowerCase();
            const difficulty = document.getElementById('difficulty-filter').value;
            const tag = document.getElementById('tag-filter').value;
            const status = document.getElementById('status-filter').value;

            currentProblems = sampleProblems.filter(problem => {
                const matchesSearch = problem.title.toLowerCase().includes(searchQuery) || 
                                    problem.id.toString().includes(searchQuery);
                const matchesDifficulty = !difficulty || problem.difficulty === difficulty;
                const matchesTag = !tag || problem.tags.includes(tag);
                const matchesStatus = !status || problem.status === status;

                return matchesSearch && matchesDifficulty && matchesTag && matchesStatus;
            });

            currentPage = 1;
            updateStats();
            renderProblems();
        }

        function resetFilters() {
            document.getElementById('search-input').value = '';
            document.getElementById('difficulty-filter').value = '';
            document.getElementById('tag-filter').value = '';
            document.getElementById('status-filter').value = '';

            currentProblems = [...sampleProblems];
            currentPage = 1;
            updateStats();
            renderProblems();
        }

        function showProblemDetails(problemId) {
            const problem = sampleProblems.find(p => p.id === problemId);
            if (!problem) return;

            document.getElementById('modalTitle').innerHTML = `
                <span class="badge bg-${getDifficultyColor(problem.difficulty)} me-2">${problem.difficulty}</span>
                #${problem.id}. ${problem.title}
            `;
            
            document.getElementById('modalBody').innerHTML = `
                <div class="row">
                    <div class="col-md-8">
                        <h6 class="fw-bold">Problem Description</h6>
                        <p class="mb-4">${problem.fullDescription}</p>
                        
                        <h6 class="fw-bold">Test Cases</h6>
                        ${problem.testCases.map(testCase => `
                            <div class="test-case">
                                <div><strong>Input:</strong> ${testCase.input}</div>
                                <div><strong>Output:</strong> ${testCase.output}</div>
                                <div><strong>Explanation:</strong> ${testCase.explanation}</div>
                            </div>
                        `).join('')}
                        
                        <h6 class="fw-bold">Key Insights</h6>
                        ${problem.keyInsights.map(insight => `
                            <div class="insight-item">
                                <i class="fas fa-lightbulb me-2 text-warning"></i>${insight}
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="col-md-4">
                        <h6 class="fw-bold">Tags</h6>
                        <div class="mb-3">
                            ${problem.tags.map(tag => 
                                `<span class="badge bg-outline-secondary me-1 mb-1">${tag}</span>`
                            ).join('')}
                        </div>
                        
                        <h6 class="fw-bold">Complexity</h6>
                        <div class="mb-3">
                            <div><strong>Time:</strong> ${problem.timeComplexity}</div>
                            <div><strong>Space:</strong> ${problem.spaceComplexity}</div>
                        </div>
                        
                        <h6 class="fw-bold">Pseudocode</h6>
                        <div class="code-block mb-3">
                            <pre>${problem.pseudocode}</pre>
                        </div>
                        
                        <h6 class="fw-bold">Python Solution</h6>
                        <div class="code-block">
                            <pre>${problem.pythonCode}</pre>
                        </div>
                    </div>
                </div>
            `;

            const modal = new bootstrap.Modal(document.getElementById('problemModal'));
            modal.show();
        }

        function generateCards() {
            const selectedProblems = currentProblems.filter(p => p.status === 'Solved');
            if (selectedProblems.length === 0) {
                alert('No solved problems to generate cards for. Please solve some problems first!');
                return;
            }
            
            // Store selected problems for the cards page
            localStorage.setItem('selectedProblems', JSON.stringify(selectedProblems.map(p => p.id)));
            window.location.href = 'cards.html';
        }

        // Event listeners
        document.getElementById('apply-filters').addEventListener('click', applyFilters);
        document.getElementById('reset-filters').addEventListener('click', resetFilters);
        document.getElementById('generate-cards').addEventListener('click', generateCards);
        document.getElementById('search-input').addEventListener('input', applyFilters);
        document.getElementById('difficulty-filter').addEventListener('change', applyFilters);
        document.getElementById('tag-filter').addEventListener('change', applyFilters);
        document.getElementById('status-filter').addEventListener('change', applyFilters);

        // Check for selected problems from problems page
        window.addEventListener('load', () => {
            const selectedProblems = localStorage.getItem('selectedProblems');
            if (selectedProblems) {
                const problemIds = JSON.parse(selectedProblems);
                // Filter cards to show only those for selected problems
                currentProblems = sampleProblems.filter(card => problemIds.includes(card.id));
                localStorage.removeItem('selectedProblems');
                updateStats();
                renderProblems();
            }
            
            // Check for selected problem ID from home page
            const selectedProblemId = localStorage.getItem('selectedProblemId');
            if (selectedProblemId) {
                localStorage.removeItem('selectedProblemId');
                // Show the problem details modal automatically
                setTimeout(() => {
                    showProblemDetails(parseInt(selectedProblemId));
                }, 500); // Small delay to ensure page is fully loaded
            }
        });

        // Initialize
        populateTagFilter();
        updateStats();
        renderProblems();
    </script>
</body>
</html> 